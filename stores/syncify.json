{
  "$schema": "http://json-schema.org/draft-07/schema",
  "$id": "syncify",
  "version": 1.1,
  "type": "object",
  "definitions": {
    "path": {
      "type": ["string", "array"],
      "oneOf": [
        {
          "type": "string",
          "pattern": "^[a-zA-Z0-9_-]{1,}(\\/[!*a-zA-Z0-9_-]{1,}){1,}([.a-z]{1,})?$"
        },
        {
          "type": "array",
          "items": {
            "type": "string",
            "pattern": "^[a-zA-Z0-9_-]{1,}(\\/[!*a-zA-Z0-9_-]{1,}){1,}([.a-z]{1,})?$"
          }
        }
      ]
    },
    "paths": {
      "type": "object",
      "additionalProperties": false,
      "markdownDescription": "./descriptions/syncify/options/paths.md",
      "properties": {
        "assets": {
          "markdownDescription": "./descriptions/syncify/options/paths/assets.md",
          "$ref": "#/definitions/path",
          "default": "assets/**/*"
        },
        "config": {
          "$ref": "#/definitions/path",
          "markdownDescription": "./descriptions/syncify/options/paths/config.md",
          "default": "config/*.json"
        },
        "locales": {
          "markdownDescription": "./descriptions/syncify/options/paths/locales.md",
          "$ref": "#/definitions/path",
          "default": "locales/*.json"
        },
        "layout": {
          "markdownDescription": "./descriptions/syncify/options/paths/layout.md",
          "$ref": "#/definitions/path",
          "default": "layout/*.liquid"
        },
        "snippets": {
          "markdownDescription": "./descriptions/syncify/options/paths/snippets.md",
          "$ref": "#/definitions/path",
          "default": "snippets/**/*.liquid"
        },
        "schema": {
          "markdownDescription": "./descriptions/syncify/options/paths/schema.md",
          "$ref": "#/definitions/path",
          "default": "schema/*.json"
        },
        "sections": {
          "markdownDescription": "./descriptions/syncify/options/paths/sections.md",
          "$ref": "#/definitions/path",
          "default": [
            "sections/**/*.liquid",
            "sections/**/*.json"
          ]
        },
        "templates": {
          "markdownDescription": "./descriptions/syncify/options/paths/templates.md",
          "$ref": "#/definitions/path",
          "default": [
            "templates/*.json",
            "templates/*.liquid"
          ]
        },
        "customers": {
          "markdownDescription": "./descriptions/syncify/options/paths/customers.md",
          "$ref": "#/definitions/path",
          "default": [
            "templates/customers/*.json",
            "templates/customers*.liquid"
          ]
        },
        "metaobject": {
          "markdownDescription": "./descriptions/syncify/options/paths/metaobject.md",
          "$ref": "#/definitions/path",
          "default": "metafields/**/*.json"
        },
        "metafields": {
          "markdownDescription": "./descriptions/syncify/options/paths/metafields.md",
          "$ref": "#/definitions/path",
          "default": "metafields/**/*.json"
        },
        "pages": {
          "markdownDescription": "./descriptions/syncify/options/paths/pages.md",
          "$ref": "#/definitions/path",
          "default": ["pages/**/*.html", "pages/**/*.md"]
        },
        "redirects": {
          "markdownDescription": "./descriptions/syncify/options/paths/redirects.md",
          "type": "string",
          "default": "redirects.yaml"
        }
      }
    },
    "spawn": {
      "type": "object",
      "additionalProperties": false,
      "markdownDescription": "./descriptions/syncify/options/spawn.md",
      "properties": {
        "watch": {
          "type": "object",
          "markdownDescription": "./descriptions/syncify/options/spawn/watch.md",
          "additionalProperties": {
            "oneOf": [
              {
                "type": "string"
              },
              {
                "type": "array",
                "items": {
                  "type": "string"
                }
              }
            ]
          }
        },
        "build": {
          "type": "object",
          "markdownDescription": "./descriptions/syncify/options/spawn/build.md",
          "additionalProperties": {
            "oneOf": [
              {
                "type": "string"
              },
              {
                "type": "array",
                "items": {
                  "type": "string"
                }
              }
            ]
          }
        }
      }
    },
    "stores": {},
    "views": {
      "type": "object",
      "additionalProperties": false,
      "markdownDescription": "./descriptions/syncify/options/views.md",
      "properties": {
        "sections": {
          "type": "object",
          "additionalProperties": false,
          "markdownDescription": "./descriptions/syncify/options/views/sections.md",
          "properties": {
            "prefixDir": {
              "type": "boolean",
              "default": false,
              "markdownDescription": "./descriptions/syncify/options/views/sections/prefixDir.md"
            },
            "separator": {
              "type": "string",
              "default": "-",
              "markdownDescription": "./descriptions/syncify/options/views/sections/separator.md",
              "oneOf": [
                {
                  "description": "dash",
                  "enum": ["-"]
                },
                {
                  "description": "underscore",
                  "enum": ["_"]
                },
                {
                  "description": "colon",
                  "enum": [":"]
                },
                {
                  "description": "at",
                  "enum": ["@"]
                }
              ]
            },
            "global": {
              "markdownDescription": "./descriptions/syncify/options/views/sections/global.md",
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          }
        },
        "snippets": {
          "type": "object",
          "additionalProperties": false,
          "description": "Snippet specific transform options when processing snippet files",
          "properties": {
            "prefixDir": {
              "type": "boolean",
              "default": false,
              "markdownDescription": "./descriptions/syncify/options/views/snippets/prefixDir.md"
            },
            "separator": {
              "type": "string",
              "default": "-",
              "markdownDescription": "./descriptions/syncify/options/views/snippets/separator.md",
              "oneOf": [
                {
                  "description": "dot",
                  "enum": ["."]
                },
                {
                  "description": "dash",
                  "enum": ["-"]
                },
                {
                  "description": "underscore",
                  "enum": ["_"]
                },
                {
                  "description": "colon",
                  "enum": [":"]
                },
                {
                  "description": "at",
                  "enum": ["@"]
                }
              ]
            },
            "global": {
              "markdownDescription": "./descriptions/syncify/options/views/snippets/global.md",
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          }
        },
        "pages": {
          "type": "object",
          "additionalProperties": false,
          "markdownDescription": "./descriptions/syncify/options/views/pages.md",
          "properties": {
            "importLanguage": {
              "type": "string",
              "markdownDescription": "./descriptions/syncify/options/views/pages/importLanguage.md",
              "oneOf": [
                {
                  "enum": ["html"]
                },
                {
                  "enum": ["markdown"]
                }
              ]
            },
            "suffixDir": {
              "type": "boolean",
              "markdownDescription": "./descriptions/syncify/options/views/pages/suffixDir.md",
              "default": false
            },
            "author": {
              "markdownDescription": "./descriptions/syncify/options/views/pages/author.md",
              "type": "string",
              "default": ""
            },
            "global": {
              "markdownDescription": "./descriptions/syncify/options/views/pages/global.md",
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          }
        }
      }
    },
    "hot": {
      "oneOf": [
        {
          "type": "object",
          "additionalProperties": false,
          "properties": {
            "label": {
              "type": "string",
              "enum": ["visible", "hidden"],
              "markdownDescription": "./descriptions/syncify/options/hot/label.md"
            },
            "inject": {
              "type": "boolean",
              "markdownDescription": "./descriptions/syncify/options/hot/inject.md"
            },
            "layouts": {
              "type": "array",
              "items": {
                "type": "string"
              },
              "default": ["theme.liquid"],
              "markdownDescription": "./descriptions/syncify/options/hot/layouts.md"
            },
            "server": {
              "type": "integer",
              "default": 3000,
              "markdownDescription": "./descriptions/syncify/options/hot/server.md"
            },
            "socket": {
              "type": "integer",
              "default": 8089,
              "markdownDescription": "./descriptions/syncify/options/hot/socket.md"
            },
            "method": {
              "type": "string",
              "enum": ["hot", "refresh"],
              "default": "hot",
              "markdownDescription": "./descriptions/syncify/options/hot/method.md"
            },
            "strategy": {
              "type": "string",
              "enum": ["hydrate", "replace"],
              "default": "hydrate",
              "markdownDescription": "./descriptions/syncify/options/hot/strategy.md"
            },
            "scroll": {
              "type": "string",
              "enum": ["preserved", "top"],
              "default": "preserved",
              "markdownDescription": "./descriptions/syncify/options/hot/scroll.md"
            }
          }
        },
        {
          "type": "boolean",
          "default": false
        }
      ]
    },
    "log": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "stats": {
          "type": "boolean",
          "default": true,
          "markdownDescription": "./descriptions/syncify/options/log/stats.md"
        },
        "warnings": {
          "type": "boolean",
          "default": true,
          "markdownDescription": "./descriptions/syncify/options/log/stats.md"
        },
        "silent": {
          "type": "boolean",
          "default": false,
          "markdownDescription": "./descriptions/syncify/options/log/silent.md"
        },
        "clear": {
          "type": "boolean",
          "markdownDescription": "./descriptions/syncify/options/log/clear.md",
          "default": true
        }
      }
    },
    "style": {
      "type": "object",
      "required": ["input"],
      "additionalProperties": false,
      "properties": {
        "input": {
          "oneOf": [
            {
              "type": "string"
            },
            {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          ],
          "markdownDescription": "./descriptions/syncify/options/transform/style/input.md"
        },
        "watch": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "default": [],
          "markdownDescription": "./descriptions/syncify/options/transform/style/watch.md"
        },
        "rename": {
          "type": "string",
          "markdownDescription": "./descriptions/syncify/options/transform/style/rename.md"
        },
        "snippet": {
          "type": "boolean",
          "default": false,
          "markdownDescription": "./descriptions/syncify/options/transform/style/snippet.md"
        },
        "tailwind": {
          "type": "boolean",
          "markdownDescription": "./descriptions/syncify/options/transform/style/tailwind.md"
        },
        "postcss": {
          "oneOf": [
            {
              "type": "boolean"
            }
          ],
          "default": true,
          "markdownDescription": "./descriptions/syncify/options/transform/style/postcss.md"
        },
        "sass": {
          "type": "boolean",
          "default": true,
          "markdownDescription": "./descriptions/syncify/options/transform/style/sass.md"
        }
      }
    },
    "script": {
      "type": "object",
      "required": ["input"],
      "additionalProperties": false,
      "properties": {
        "input": {
          "oneOf": [
            {
              "type": "string"
            },
            {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          ],
          "markdownDescription": "./descriptions/syncify/options/transform/script/input.md"
        },
        "target": {
          "type": "array",
          "items": {
            "type": "string",
            "enum": [
              "es3",
              "es5",
              "es6",
              "es2015",
              "es2016",
              "es2017",
              "es2018",
              "es2019",
              "es2020",
              "es2021",
              "es2022",
              "esnext"
            ]
          },
          "default": "es2016",
          "markdownDescription": "./descriptions/syncify/options/transform/script/target.md"
        },
        "external": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "default": [],
          "markdownDescription": "./descriptions/syncify/options/transform/script/external.md"
        },
        "rename": {
          "type": "string",
          "markdownDescription": "./descriptions/syncify/options/transform/script/rename.md"
        },
        "snippet": {
          "type": "boolean",
          "default": false,
          "markdownDescription": "./descriptions/syncify/options/transform/script/snippet.md"
        },
        "format": {
          "type": "string",
          "default": "esm",
          "enum": ["esm", "iife"],
          "markdownDescription": "./descriptions/syncify/options/transform/script/format.md"
        },
        "sourcemap": {
          "type": "boolean",
          "default": true,
          "markdownDescription": "./descriptions/syncify/options/transform/script/sourcemap.md"
        },
        "watch": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "default": [],
          "markdownDescription": "./descriptions/syncify/options/transform/script/watch.md"
        },
        "esbuild": {
          "type": "boolean",
          "default": true,
          "markdownDescription": "./descriptions/syncify/options/transform/script/esbuild.md"
        }
      }
    },
    "svg": {
      "type": "object",
      "required": ["input"],
      "properties": {
        "input": {
          "markdownDescription": "./descriptions/syncify/options/transform/svg/input.md",
          "oneOf": [
            {
              "type": "string"
            },
            {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          ]
        },
        "rename": {
          "type": "string",
          "markdownDescription": "./descriptions/syncify/options/transform/svg/rename.md"
        },
        "snippet": {
          "type": "boolean",
          "default": false,
          "markdownDescription": "./descriptions/syncify/options/transform/svg/rename.md"
        },
        "format": {
          "oneOf": [
            {
              "type": "string",
              "enum": ["file", "sprite"]
            },
            {
              "type": "null"
            }
          ],
          "markdownDescription": "./descriptions/syncify/options/transform/svg/format.md"
        }
      }
    },
    "json": {
      "type": "object",
      "properties": {
        "indent": {
          "type": "number",
          "default": 2,
          "description": "The indentation level.\n\nDefault: 2"
        },
        "useTab": {
          "type": "boolean",
          "default": false,
          "description": "Whether to use '\\t' indentation characters.\n\nDefault: false"
        },
        "crlf": {
          "type": "boolean",
          "default": false,
          "description": "If line termination should be Windows (CRLF) format. Unix (LF) format is the default.\n\nDefault: false"
        },
        "exclude": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "An optional string list of paths/filenames to exclude from processing, i.e., pass through.\n\nDefault: false"
        }
      },
      "additionalProperties": false
    },
    "transform": {
      "type": "object",
      "additionalProperties": false,
      "json": {
        "$ref": "#/definitions/json"
      },
      "script": {
        "oneOf": [
          {
            "$ref": "#/definitions/script"
          },
          {
            "type": "array",
            "items": {
              "$ref": "#/definitions/script"
            }
          }
        ]
      },
      "style": {
        "oneOf": [
          {
            "$ref": "#/definitions/style"
          },
          {
            "type": "array",
            "items": {
              "$ref": "#/definitions/style"
            }
          }
        ]
      },
      "svg": {
        "oneOf": [
          {
            "$ref": "#/definitions/svg"
          },
          {
            "type": "array",
            "items": {
              "$ref": "#/definitions/svg"
            }
          }
        ]
      }
    },
    "terser": {
      "type": ["boolean", "object"],
      "properties": {
        "json": {
          "type": ["boolean", "object"],
          "default": true,
          "properties": {
            "assets": {
              "type": "boolean",
              "default": true,
              "description": "Minify `.json` files writing to `theme/assets`.\n\nDefault: true"
            },
            "config": {
              "type": "boolean",
              "default": true,
              "description": "Minify `settings_schema.json` and `settings_data.json` config files.\n\nDefault: true"
            },
            "locales": {
              "type": "boolean",
              "default": true,
              "description": "Minify `locale` and `.json` files.\n\nDefault: true"
            },
            "metafields": {
              "type": "boolean",
              "default": true,
              "description": "Minify `metafield` and `.json` files.\n\nDefault: true"
            },
            "metaobject": {
              "type": "boolean",
              "default": true,
              "description": "Minify `metaobject` and `.json` files.\n\nDefault: true"
            },
            "groups": {
              "type": "boolean",
              "default": true,
              "description": "Minify section group `.json` files.\n\nDefault: true"
            },
            "templates": {
              "type": "boolean",
              "default": true,
              "description": "Minify `template` and `.json` files.\n\nDefault: true"
            },
            "exclude": {
              "type": "array",
              "items": {
                "type": "string"
              },
              "default": [],
              "description": "An optional list of paths/files to exclude from minification.\n\nDefault: []"
            }
          }
        },
        "script": {
          "type": ["boolean", "object"],
          "default": true,
          "properties": {
            "keepNames": {
              "type": "boolean",
              "default": false,
              "description": "Whether to keep original variable and function names."
            },
            "legalComments": {
              "type": "string",
              "enum": [
                "external",
                "none",
                "inline",
                "eof",
                "linked"
              ],
              "default": "inline",
              "description": "Control the preservation of comments in the minified code. Possible values: 'all', 'some', 'none', 'inline'."
            },
            "minifyIdentifiers": {
              "type": "boolean",
              "default": true,
              "description": "Whether to minify variable and function names."
            },
            "minifySyntax": {
              "type": "boolean",
              "default": true,
              "description": "Whether to minify JavaScript syntax."
            },
            "minifyWhitespace": {
              "type": "boolean",
              "default": true,
              "description": "Whether to minify whitespace."
            },
            "mangleQuoted": {
              "type": "boolean",
              "default": true,
              "description": "Whether to mangle properties in quoted object literals."
            },
            "exclude": {
              "type": "array",
              "items": {
                "type": "string"
              },
              "default": [],
              "description": "An optional list of paths/files to exclude from minification."
            }
          }
        },
        "liquid": {
          "type": ["boolean", "object"],
          "default": true,
          "properties": {
            "removeComments": {
              "type": "boolean",
              "default": true,
              "description": "Whether to remove comments from the content."
            },
            "collapseInner": {
              "type": "boolean",
              "default": false,
              "description": "Whether to collapse inner content (e.g: collapse whitespace and line breaks)."
            },
            "collapseWhitespace": {
              "type": "boolean",
              "default": true,
              "description": "Whether to collapse whitespace (e.g: remove extra spaces and line breaks)."
            },
            "minifyJavascript": {
              "type": "boolean",
              "default": false,
              "description": "Whether to minify JavaScript content."
            },
            "minifySchema": {
              "type": "boolean",
              "default": false,
              "description": "Whether to minify schema content."
            },
            "minifyStyle": {
              "type": "boolean",
              "default": false,
              "description": "Whether to minify style content."
            },
            "minifyStylesheet": {
              "type": "boolean",
              "default": false,
              "description": "Whether to minify stylesheet content."
            },
            "stripDashes": {
              "type": "boolean",
              "default": true,
              "description": "Whether to strip dashes (e.g., remove hyphens)."
            },
            "exclude": {
              "type": "array",
              "items": {
                "type": "string"
              },
              "default": [],
              "description": "An optional list of paths/files to exclude from minification."
            }
          }
        },
        "markup": {
          "type": ["boolean", "object"],
          "default": true,
          "properties": {
            "collapseWhitespace": {
              "type": "boolean",
              "default": true,
              "description": "Whether to collapse whitespace (e.g: remove extra spaces and line breaks)."
            },
            "minifyJS": {
              "type": "boolean",
              "default": true,
              "description": "Whether to minify JavaScript content."
            },
            "minifyCSS": {
              "type": "boolean",
              "default": true,
              "description": "Whether to minify CSS content."
            },
            "removeComments": {
              "type": "boolean",
              "default": true,
              "description": "Whether to remove comments from the content."
            },
            "exclude": {
              "type": "array",
              "items": {
                "type": "string"
              },
              "default": [],
              "description": "An optional list of paths/files to exclude from minification."
            }
          }
        }
      },
      "additionalProperties": false
    },
    "processors": {
      "type": "object",
      "properties": {
        "esbuild": {
          "type": "object"
        },
        "sass": {
          "type": "object"
        },
        "svgo": {
          "type": "object"
        },
        "sprite": {
          "type": "object"
        },
        "postcss": {
          "type": "array"
        }
      }
    },
    "publish": {
      "type": "object",
      "properties": {
        "tunnelPort": {
          "type": "number",
          "default": 80,
          "description": "The port address to publish on. In most cases, you can leave this to the default, unless port 80 is occupied. Use a different port in such a situation.\n\nDefault: 80"
        },
        "publishRole": {
          "type": "string",
          "enum": ["main", "unpublished", "development"],
          "default": "unpublished",
          "description": "Set the publishment role to use. Defaults to 'unpublished', which means theme publishes will not be made pushed live.\n\n'main': The theme is published. Customers see it when they visit the online store.\n'unpublished': The theme is unpublished. Customers can't see it.\n'development': The theme is used for development. The theme can't be published and is temporary.\n\nDefault: 'unpublished'"
        },
        "bindVersion": {
          "type": "boolean",
          "default": false,
          "description": "Bind theme version with the `settings_schema.json` version.\n\nDefault: false"
        },
        "themeLimit": {
          "type": "number",
          "default": 3,
          "description": "Limit the amount of new theme publishments.\n\nDefault: 3"
        }
      }
    }
  },
  "properties": {
    "syncify": {
      "type": "object",
      "markdownDescription": "Syncify CLI - Configuration",
      "required": ["stores"],
      "properties": {
        "stores": {
          "markdownDescription": "List of Shopify stores to connect. Optionally provide this directly within your `syncify.config` file. If you are using Syncify publishing, then this where you will need to provide store references.",
          "oneOf": [
            {
              "type": "array",
              "items": {
                "$ref": "#/definitions/stores"
              }
            },
            {
              "type": "object",
              "$ref": "#/definitions/stores"
            }
          ]
        },
        "config": {
          "markdownDescription": "./descriptions/syncify/misc/config.md",
          "type": "object",
          "properties": {
            "input": {
              "type": "string",
              "default": "source",
              "pattern": "^[a-zA-Z0-9_-]{1,}(\\/[a-zA-Z0-9_-]{1,}){0,}$",
              "markdownDescription": "./descriptions/syncify/options/input.md"
            },
            "output": {
              "type": "string",
              "default": "theme",
              "pattern": "^[a-zA-Z0-9_-]{1,}(\\/[a-zA-Z0-9_-]{1,}){0,}$",
              "markdownDescription": "./descriptions/syncify/options/output.md"
            },
            "import": {
              "type": "string",
              "default": "import",
              "pattern": "^[a-zA-Z0-9_-]{1,}(\\/[a-zA-Z0-9_-]{1,}){0,}$",
              "markdownDescription": "./descriptions/syncify/options/import.md"
            },
            "export": {
              "type": "string",
              "default": "export",
              "pattern": "^[a-zA-Z0-9_-]{1,}(\\/[a-zA-Z0-9_-]{1,}){0,}$",
              "markdownDescription": "./descriptions/syncify/options/export.md"
            },
            "publish": {
              "$ref": "#/definitions/publish"
            },
            "paths": {
              "$ref": "#/definitions/paths"
            },
            "spawn": {
              "$ref": "#/definitions/spawn"
            },
            "log": {
              "$ref": "#/definitions/log"
            },
            "hot": {
              "$ref": "#/definitions/hot"
            },
            "views": {
              "$ref": "#/definitions/views"
            },
            "terser": {
              "$ref": "#/definitions/terser"
            },
            "transform": {
              "$ref": "#/definitions/transform"
            },
            "processors": {
              "$ref": "#/definitions/processors"
            }
          }
        }
      }
    }
  }
}
